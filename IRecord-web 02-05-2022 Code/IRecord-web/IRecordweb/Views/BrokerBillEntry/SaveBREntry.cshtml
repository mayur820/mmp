
@{
    ViewBag.Title = "SaveBREntry";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@*<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="~/css/bootstrap.min.v4.css" />
    <link rel="stylesheet" href="~/css/bootstrap-datepicker3.min.css" />
    <link rel="stylesheet" href="~/css/select2.min.css" />
    <link rel="stylesheet" href="~/css/line-awesome.min.css" />
    <link rel="stylesheet" href="~/css/theme-color.css" />
    <link rel="stylesheet" href="~/css/app.min.css" />
    <link rel="stylesheet" href="~/css/custom-body.css" />

    <title>Consultant Master :: iRecord</title>*@
<script src="~/AngScripts/jquery-3.6.0.js"></script>
<script src="~/AngScripts/jquery-3.6.0.min.js"></script>
<script src="~/AngScripts/angular.js"></script>
<script src="~/AngScripts/ngStorage.min.js"></script>
<link rel="stylesheet" href="~/css/loader-1.css">
<style>
    .modal-dialog {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
    }

    .modal-content {
        height: auto;
        min-height: 100%;
        border-radius: 0;
    }

    @@media (min-width: 1200px) 
    {
        .modal-xl {
            max-width: 100% !important;
        }
    }
  
</style>
@section Scripts {


}

<body class="inner_body">
    <div ng-app="myApp" ng-controller="myctrn" ng-init="PageLoad()" id="" class="">






        <div id="layout-wrapper">

            <!-- ========== Left Sidebar Start ========== -->
            <!-- Left Sidebar End -->
            <!-- ============================================================== -->
            <!-- Start right Content here -->
            <!-- ============================================================== -->
            @*<div class="main-content">*@

            @*<div class="page-content">*@
            <div class="container-fluid">

                <div class="display_adds_parent">
                    <div class="display_adds_view_box display_adds_2_col">
                        <!-- start page title -->
                        <div class="row">
                            <div class="col-12">
                                <div class="page-title-box d-flex align-items-center justify-content-between">
                                    <h4 class="mb-0">Broker Bill</h4>
                                    <div class="page-title-right">
                                        <a href="/BrokerBillEntry/BrokerBillList" class="px-2 btn btn-dark"><i class="las la-angle-left font-size-18"></i> Back to List</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- end page title -->
                        <!-- Working Area Start -->
                        <div class="card">
                            <div class="card-body">
                                <div class="row form_2">
                                    <div class="col-sm-12 col-md-6 mb-3 d-flex">

                                        <label class="mb-0">Segment:</label>
                                        <input type="hidden" ng-model="SaveBREntry.ContractNoteName" />
                                        <select id="ddlInvestmentType" ng-model="ddlInvestmentType" ng-change="showhidefn()" class="form-select select2">

                                            <option value="" selected="selected">Select Segment Type</option>
                                            <option value="0">Equity</option>
                                            <option value="1"> F & O</option>
                                            <option value="3">MCX</option>
                                            <option value="4">Currency</option>
                                            <option value="5">NCDEX</option>


                                        </select>

                                        @*<select class="form-select select2">
                                                <option>-- Select Segment --</option>
                                                <option>Cash</option>
                                                <option>Segment 2</option>
                                                <option>Segment 3</option>
                                            </select>*@
                                    </div>
                                    <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                        <label class="mb-0">Date:</label>
                                        <input id="txt_Date" ng-model="SaveBREntry.Date" type="text" class="form-control datepicker" data-date-format="dd-mm-yyyy" placeholder="DD-MM-YYYY" />
                                    </div>
                                    <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                        <label class="mb-0">Broker:</label>
                                        <div class="input-group tbl_int_grp">
                                            <select id="ddlBroker" ng-model="ddlBroker" ng-options="v.ID as v.NAME for v in Brokers" ng-change="bindbills()" style="font-size:0.9rem" class="form-select select2">
                                                <option ng-option value="">Select Broker</option>
                                            </select>
                                            @*<select class="form-select select2">
                                                    <option>-- Select Broker --</option>
                                                    <option>Broker 1</option>
                                                    <option>Broker 2</option>
                                                    <option>Broker 3</option>
                                                </select>*@
                                            <a style="min-width: 80px;" href="#modal_broker" class="btn btn-outline-primary" data-bs-toggle="modal">
                                                <i class="la la-plus"></i> Add
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                        <label class="mb-0">Demat:</label>
                                        <div class="input-group tbl_int_grp">
                                            <select id="Demat_Ac_Id" ng-model="SaveBREntry.Demat_Ac_Id" class="form-select select2" style="font-size:0.9rem">

                                                <option ng-option value="">Select Demat A/c</option>
                                                <option data-ng-repeat="Demate in  Demates" class="option" value="{{Demate.ID}}">{{Demate.NAME}}</option>
                                            </select>
                                            @*<select class="form-select select2">
                                                    <option>-- Select Demat --</option>
                                                    <option>Demat 1</option>
                                                    <option>Demat 2</option>
                                                    <option>Demat 3</option>
                                                </select>*@
                                            <a style="min-width: 80px;" href="#modal_add" class="btn btn-outline-primary" data-bs-toggle="modal">
                                                <i class="la la-plus"></i> Add
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                        <label class="mb-0">Holding Type:</label>
                                        <select id="ddlHoldingType" ng-model="ddlHoldingType" class="form-control form-select select2">
                                            <option value="">Select Holding Type</option>
                                            <option value="0">I-Share Invenstment</option>
                                            <option value="1">T-Stock In Trade</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                        <label class="mb-0">Consultant:</label>

                                        <select id="ddlConsultant" ng-model="ddlConsultant" ng-options="v.ID as v.NAME for v in Consultants" class="form-control form-select select2">
                                            <option ng-option value="">Select Consultant</option>
                                        </select>
                                        <a style="min-width: 80px;" href="#modal_add" class="btn btn-outline-primary" data-bs-toggle="modal">
                                            <i class="la la-plus"></i> Add
                                        </a>
                                    </div>
                                    <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                        <label class="mb-0">Select Import Type:</label>
                                        <select id="ContractNoteId" ng-model="ContractNoteId" ng-change="ngclickDropdown()" class="form-select select2">
                                            <option ng-option value="">Select Import Type</option>
                                            <option ng-repeat="v in BILLS" value="{{v.ID}}">{{v.NAME}}</option>
                                        </select>

                                    </div>

                                    <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                        <label class="mb-0">Choose CN file:</label>
                                        <input type="file" class="form-control" id="contractnotefile" ng-model="SaveBREntry.uploadfileurl">
                                        <a style="min-width: 80px;display:none;" id="btn_Verify" href="#modal_pdf" class="btn btn-outline-primary" data-bs-toggle="modal">
                                            <i class="la la-plus">Verify</i>
                                        </a>
                                    </div>
                                    <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                        <label class="mb-0">Password:</label>
                                        <input type="text" ng-model="SaveBREntry.Password" placeholder="Enter Password" class="form-control">

                                    </div>
                                    <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                        <label for="ChkSetAsDefault" class="mb-0">Set as Default:</label>
                                        <input type="checkbox" class="form-check-input" id="ChkSetAsDefault" ng-model="SaveBREntry.ChkSetAsDefault">
                                      

                                    </div>
                                    <div class="col-sm-12 text-center mt-3">
                                        <button type="button" class="btn btn-secondary">Reset</button>
                                        <button type="button" ng-click="btnupload()" class="btn btn-primary">{{btntext}}</button>

                                        <div style="display:none;" class="loader-wrapper" id="loader-1">
                                            <div id="loader"></div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="display_adds display_adds_right text-center">
                        <img src="https://via.placeholder.com/970x90.png/007BFF/FFFFFF?text=Irecord+Ads" class="mobile_adds mb-3" alt="" />
                        <img src="https://via.placeholder.com/160x601.png/007BFF/FFFFFF?text=Irecord+Ads" class="desktop_adds" alt="" />
                        <!-- <img src="https://via.placeholder.com/160x600.png/007BFF/FFFFFF?text=Irecord+Ads" alt="" /> -->
                    </div>
                </div>
            </div> <!-- container-fluid -->
            @*</div>*@
            <!-- End Page-content -->


            <footer class="footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-6">
                            <script>document.write(new Date().getFullYear())</script> <i class="las la-copyright"></i> iRecord.
                        </div>
                    </div>
                </div>
            </footer>
            @*</div>*@
            <!-- end main content-->

        </div>
        <!-- END layout-wrapper -->
        <!-- Right bar overlay-->
        <div class="rightbar-overlay"></div>



        <!-- Modal 1 -->
        <div class="modal fade" id="modal_add" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Add Demat</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row form_2">
                            <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                <label class="mb-0">Demat <span class="text-danger">*</span>:</label>
                                <input type="text" id="family_name" name="family_name" class="form-control" placeholder="Enter Demat A/c Name" />
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer justify-content-center">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Save</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Reset</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal 33 -->
        <div class="modal fade" id="modal_pdf" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
                <div class="modal-content">
                    @*<div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">verify pdf</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>*@
                    <div class="modal-body">
                        <div style="
    height: 580px !important;
" class="row">
                            <div class="col-sm-6">
                                <h5>System Defind Format</h5>
                                <embed src="{{FilepathUrl}}" frameborder="0" width="100%" height="100%">
                            </div>
                            <div class="col-sm-6">
                                <h5>User Selected Format</h5>
                                <embed id="userpdf" type="application/pdf" frameborder="0" width="100%" height="100%">
                            </div>


                        </div>
                      
                    </div>
                    <div class="modal-footer justify-content-center">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                        @*<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">C</button>*@
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal 2 -->
        <div class="modal fade" id="modal_broker" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Add Broker</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row form_2">
                            <div class="col-sm-12 col-md-6 mb-3 d-flex">
                                <label class="mb-0">Broker <span class="text-danger">*</span>:</label>
                                <input type="text" id="family_name" name="family_name" class="form-control" placeholder="Enter Broker Name" />
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer justify-content-center">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Save</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Reset</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @*<script src="~/js/jquery-3.5.1.min.js"></script>
        <script src="~/js/popper.min.js"></script>
        <script src="~/js/bootstrap.min.js"></script>
        <script src="~/js/metisMenu.min.js"></script>
        <script src="~/js/simplebar.min.js"></script>*@
    @*<script src="~/js/app.js"></script>*@
    @*<script src="~/js/bootstrap-datepicker.min.js"></script>*@
    <script src="~/js/jquery-3.5.1.min.js"></script>
    <script src="~/js/popper.min.js"></script>
    <script src="~/js/bootstrap.min.js"></script>
    <script src="~/js/select2.min.js"></script>
    <link href="~/Content/themes/base/jquery-ui.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-2.1.1.min.js"></script>
    <script src="~/Scripts/jquery-ui-1.12.1.min.js"></script>
    <script>
        $.noConflict();
        jQuery(document).ready(function ($) {
            $('#txt_Date').attr('readonly', true);
            $("#txt_Date").datepicker({
                dateFormat: "dd-M-yy",
                minDate: new Date(@Convert.ToDateTime(Convert.ToDateTime(Session["FinFromDate"].ToString()).ToString("yyyy/MM/dd")).Year, @Convert.ToDateTime(Convert.ToDateTime(Session["FinFromDate"].ToString()).ToString("yyyy/MM/dd")).Month - 1, @Convert.ToDateTime(Convert.ToDateTime(Session["FinFromDate"].ToString()).ToString("yyyy/MM/dd")).Day) ,
                maxDate: new Date(@Convert.ToDateTime(Convert.ToDateTime(Session["FinToDate"].ToString()).ToString("yyyy/MM/dd")).Year, @Convert.ToDateTime(Convert.ToDateTime(Session["FinToDate"].ToString()).ToString("yyyy/MM/dd")).Month - 1, @Convert.ToDateTime(Convert.ToDateTime(Session["FinToDate"].ToString()).ToString("yyyy/MM/dd")).Day) ,
                changeMonth: true,
                changeYear: true
            });

        });
    </script>
    <script>
        $(document).ready(function () {
            $(".select2").select2({
                maximumSelectionLength: 3
            });
            $(".select2-hide_search").select2({
                minimumResultsForSearch: Infinity
            });

            $('.datepicker').datepicker({
                format: "dd-mm-yyyy",
                autoclose: true,
                todayHighlight: true
            });
        });
    </script>

    <script src="../js/custom-script.js"></script>
    <script type="text/javascript">
        function addLoadEvent(func) {
            var oldonload = window.onload;
            if (typeof window.onload != 'function') {
                window.onload = func;
            } else {
                window.onload = function () {
                    if (oldonload) {
                        oldonload();
                    }
                }
            }
        }
        addLoadEvent(setmenu('7'));
        addLoadEvent(setentrymenu('2'));
    </script>

    <script src="~/AngularDataFunction/AngularDataFunction.js"></script>
    <script src="~/AngScripts/SaveBREntry.js"></script>

</body>

