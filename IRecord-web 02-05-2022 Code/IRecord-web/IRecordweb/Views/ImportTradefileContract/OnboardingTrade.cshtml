@model IRecordweb.Models.ImportTradefileContract_INDEX_Models
@{
    ViewBag.Title = "OnboardingTrade";
    Layout = "~/Views/Shared/_BLayout.cshtml";
}

<link href="~/Content/bootstrap-datepicker.min.css" rel="stylesheet" />
<link href="~/Content/themes/base/jquery-ui.min.css" rel="stylesheet" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/line-awesome/1.3.0/line-awesome/css/line-awesome.min.css">

<link rel="stylesheet" href="~/css/bootstrap.min.v4.css">
<link rel="stylesheet" href="~/css/style.css">
<link rel="stylesheet" href="css/select2.min.css">



<div class="wrapper">

    @using (Html.BeginForm("OnboardingTrade", "ImportTradefileContract", FormMethod.Post, new { enctype = "multipart/form-data" }))
                {
        @Html.AntiForgeryToken()

        <div class="text-center mb-4">
            <img src="~/Content/images/logo2.png" alt="IRecord" />

            <div class="checkout-wrap">
                <ul class="checkout-bar nav_tabs d-flex">
                    <li class="visited"><a href="#tab_1"></a></li>
                    <li class="visited"><a href="#tab_2"></a></li>
                    <li class="visited"><a href="#tab_3"></a></li>
                    <li class="visited"><a href="#tab_4"></a></li>
                    <li class="visited"><a href="#tab_5"></a></li>
                    <li class="visited"><a href="#tab_6"></a></li>
                    <li class="visited"><a href="#tab_7"></a></li>
                    <li class="visited"><a href="#tab_8"></a></li>
                    <li class="visited"><a href="#tab_9"></a></li>
                    <li class="visited"><a href="#tab_10"></a></li>
                    <li class="visited"><a href="#tab_11"></a></li>
                    <li class="visited"><a href="#tab_12"></a></li>
                    <li class="active"><a href="#tab_13"></a></li>
                    <li class=""><a href="#tab_14"></a></li>
                    <li class=""><a href="#tab_15"></a></li>
                    <li class=""><a href="#tab_16"></a></li>
                    <li class=""><a href="#tab_17"></a></li>
                    <li class=""><a href="#tab_18"></a></li>
                    <li class=""><a href="javascript:;"></a></li>
                </ul>
            </div>
        </div>
        <div class="w-100" id="tab_9">
            <h2 class="text-center">
                Upload Trade File
            </h2>

            <strong class="d-flex justify-content-center mt-2">DD/MM/YYYY</strong>

            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            <div class="form-row mobile_row">
                @Html.LabelFor(model => model.FromDate, htmlAttributes: new { @class = "control-label" })
                <div class="input-group">
                    @Html.EditorFor(model => model.FromDate, new { htmlAttributes = new { @class = "form-control", @placeholder = "DD-MM-YYYY" } })
                    @Html.ValidationMessageFor(model => model.FromDate, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-row mobile_row">
                @Html.LabelFor(model => model.ToDate, htmlAttributes: new { @class = "control-label" })
                <div class="input-group">
                    @Html.EditorFor(model => model.ToDate, new { htmlAttributes = new { @class = "form-control", @placeholder = "DD-MM-YYYY" } })
                    @Html.ValidationMessageFor(model => model.ToDate, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-row mobile_row">
                @Html.Label("Default Broker Name", htmlAttributes: new { @class = "control-label" })
                <div class="input-group">
                    @Html.DropDownListFor(model => model.Broker, ViewBag.Broker as SelectList, "Select Broker", htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.Broker, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-row mobile_row">
                @Html.Label("Default Demat A/C", htmlAttributes: new { @class = "control-label" })
                <div class="input-group">
                    @Html.DropDownListFor(model => model.Demat_Ac_Id, ViewBag.Demat_Ac_Id as SelectList, "Select Demat A/c", htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.Demat_Ac_Id, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-row mobile_row">
                @Html.LabelFor(model => model.ContractNoteId, htmlAttributes: new { @class = "control-label" })
                <div class="w-100">
                    @Html.DropDownListFor(model => model.ContractNoteId, new SelectList(" "), "Select Contract Note", htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.ContractNoteId, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-row mobile_row">
                @Html.Label("Browse", htmlAttributes: new { @class = "control-label" })
                <div class="input-group">
                    @Html.TextBoxFor(model => model.FileUpload, htmlAttributes: new { @class = "form-control", type = "file", value = "FileName" })
                    @Html.ValidationMessageFor(model => model.FileUpload, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-row mobile_row">
                @Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label" })
                <div class="input-group">
                    @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                </div>
            </div>


            <div class="text-right form-row justify-content-end mt-4 text-center">
                <input type="submit" value="UPLOAD" name="UPLOAD" class="btn btn-primary btn-soft-primary ml-auto text-uppercase next-tab text-center" />
            </div>

            <a href="javascript:;" class="text-center d-flex justify-content-center mt-3">
                Display All Charges on First Upload of specific broker
                Display Any Charges Which Are Not Matching
            </a>

            <div class="text-right form-row justify-content-end mt-4 text-center" style="display:none">
                <input type="submit" value="VIEW" name="VIEW" class="btn btn-primary btn-soft-primary ml-auto text-uppercase next-tab text-center" />
            </div>

            <div class="text-right form-row justify-content-end mt-4 text-center">
                <input type="submit" value="APPROVE NOW" name="APPROVE" class="btn btn-primary btn-soft-primary ml-auto text-uppercase next-tab text-left" />
            </div>

            <div class="text-right form-row justify-content-end mt-4 text-center">
                <input type="button" value="SKIP THIS STEP" name="SKIP" class="btn btn-primary btn-soft-primary ml-auto text-uppercase next-tab text-left"  onclick="location.href='@Url.Action("ScriptMapping", "ScriptMaster")'"/>
            </div>
        </div>



        }

</div>



    @*For Duplicate Name Validate*@
    <script src="~/Scripts/jquery.validate.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
<script src="~/Scripts/jquery-2.1.1.js"></script>
@*<script src="~/Scripts/jquery-1.12.4.min.js"></script>*@
<script src="~/Scripts/jquery-ui-1.12.1.min.js"></script>

<script>
    $(document).ready(function () {
        //alert(11) ;
        $("#Broker").change(function () {
          // alert(12);
            debugger;
            $.get("/ImportTradefileContract/GetBrokerFormatList1", { ID: $("#Broker").val() }, function (data) {

                $("#ContractNoteId").empty();
                $.each(data, function (index, row) {
                   // alert(row.Broker);
                    $("#ContractNoteId").append("<option value='" + row.BrokerId + "'>" + row.Broker + "</option>")
                });
            });//

        })
    });
</script>

    @if (ViewBag.Message != null)
        {
        <script type="text/javascript">
            window.onload = function () {
                alert('@ViewBag.Message');
            };
        </script>
        }
 
<script>
    $(document).ready(function () {
        $("#FromDate").datepicker({
            dateFormat: "dd-mm-yy",
            changeMonth: true,
            changeYear: true,
        });

        $("#ToDate").datepicker({
            dateFormat: "dd-mm-yy",
            changeMonth: true,
            changeYear: true
        });
    });
</script>











